(()=>{var e=$("#step-rows"),t=$("#add-service-container"),i=$("#add-service-custom-container"),a=($(".attribute-selector"),$(".back"),$(".front"),""),r=($("input[name='default_lead_image_id']"),$("#lead_image_upload_div_id")),n=$("#default_lead_image_div"),o=2;function s(e){iziToast.error({message:e,position:"topRight"})}$(document).ready((function(){var e=$("#service_id").val();if(a=parseInt($("#number_of_add_on_services").val()),e){var o=$("#category").val(),l=$("#sub-category").val();fetchSkills(o,l,!1)}$(".btn-link").click((function(){var e=$($(this).data("target"));e.hasClass("show")?e.removeClass("show").addClass("collapsing"):e.removeClass("collapsing").addClass("collapse show")})),function(){var e=new URLSearchParams(window.location.search);if(e.has("view")){var t=e.get("view");$("#".concat(t)).length>0&&($(".setup-content").css({display:"none"}),$(".stepwizard-step a").removeClass("btn-success"),$(".stepwizard-step a[href$='".concat(t,"']")).addClass("btn-success"),$("#".concat(t)).css({display:"block"}))}}(),$(".select2").select2({tags:!0,createTag:function(e){return e.term.length>25?null:{id:e.term,text:e.term}}}),$(".banner-form").submit((function(e){$("#static_image").val();var t=$("#banner_heading").val(),i=$("#banner_detail").val();if($(".error").remove(),"none"==$("#pages div#banner2").css("display")){if(!($("#static_banner_image").val().length<1)||$("input[name='image']").attr("value"))return!0;e.preventDefault(),console.log($("input[name='image']").attr("value")),$("#static_banner_image").after('<span class="error text-danger" style="margin-top:5px !important;">This field is required</span>'),iziToast.error({message:"Image is required",position:"topRight"})}else if("none"==$("#pages div#banner1").css("display")){if($.trim(t).length<1&&(e.preventDefault(),$("#banner_heading").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Banner Title is required",position:"topRight"})),$.trim(i).length<1&&(e.preventDefault(),$("#banner_detail").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Banner Introduction field  is required",position:"topRight"})),$('input:radio[name="banner_background_id"]:checked').length<1&&(e.preventDefault(),$("#banner_err").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Background Image is required",position:"topRight"})),"Custom"==$("#lead_image_type_id").val()&&$("#lead_image").val().length<1&&!$("input[name='dynamic_banner_image']").attr("value")){e.preventDefault();var a="Please Upload Your Custom Lead Image";$("#lead_image").after('<span class="error text-danger " style="margin-top:5px !important;">'+a+"</span>"),iziToast.error({message:a,position:"topRight"})}if("Default"==$("#lead_image_type_id").val()&&$('input:radio[name="default_lead_image_id"]:checked').length<1){e.preventDefault();var r="Please Select an image from default lead images";$("#default_lead_img_error").after('<span class="error text-danger">'+r+"</span>"),iziToast.error({message:r,position:"topRight"})}return $("input:checkbox[name='technology_logos[]']:checked").length<=0&&iziToast.error({message:"Technology Logos are required",position:"topRight"}),3!=$('input:checkbox[name="technology_logos[]"]:checked').length&&(e.preventDefault(),iziToast.error({message:"3 Technology Logos should be selected",position:"topRight"})),!0}})),$(".review-form").submit((function(e){var t=$("#max_no_projects").val();$(".error").remove(),($.trim(t)<3||$.trim(t)>10)&&(e.preventDefault(),$("#max_no_projects").after('<span class="error text-danger">Max no of simultaneous projects should be between [ 3 - 10 ] </span>'),iziToast.error({message:"Max no of simultaneous projects should be between [ 3 - 10 ]",position:"topRight"})),$("input:checkbox[name=copyright_notice]:checked").length<1&&(e.preventDefault(),$("#copy").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Terms of Service field is required",position:"topRight"})),$("input:checkbox[name=privacy_notice]:checked").length<1&&(e.preventDefault(),$("#copy1").after(' <span class="error text-danger">This field is required</span>'),iziToast.error({message:"Privancy Notice field is required",position:"topRight"}))})),$(".user-profile-form").submit((function(e){var t=$("#title_over").val(),i=$("#description").val(),a=$("#category").val(),r=$("#sub-category").val();$(".error").remove(),$.trim(t).length<1&&(e.preventDefault(),$("#title_over").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Title is required",position:"topRight"})),$.trim(i).length<1&&(e.preventDefault(),$("#description").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Description is required",position:"topRight"})),$.trim(a).length<1&&(e.preventDefault(),$("#category").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Category is required",position:"topRight"})),$("#sub-category option").length>1&&$.trim(r).length<1&&(e.preventDefault(),$("#sub-category").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Sub Category is required",position:"topRight"})),$("#service_features :selected").length<=0&&(e.preventDefault(),$(".include_error").after('<span class="error text-danger">This field is required</span>'),iziToast.error({message:"Include features is required",position:"topRight"})),$("input:checkbox[name='skills[]']:checked").length<=0&&(e.preventDefault(),iziToast.error({message:"Atleaset one skill is required",position:"topRight"}))})),$(".user-pricing-form").submit((function(e){var t=$("#delivery").val(),i=$("#price").val();$(".error").remove(),$("#deliverables :selected").length>=0&&$("#deliverables :selected").length<1&&(e.preventDefault(),$(".del_error").after('<span class="error text-danger">This field is required</span>'),s("Deliverables field is required")),$.trim(t)<1&&(e.preventDefault(),$("#delivery").after('<span class="error text-danger mt-1">This field is required</span>'),s("estimated delivery time field is required")),$.trim(i)<5&&(e.preventDefault(),$("#price").after('<span class="error text-danger mt-1">Minimum rate should be 5$</span>'),s("Minimum rate should be 5$")),$(".add-ons").each((function(){!function(e,t){""!=e.find(".add-on-delivery").val()&&e.find(".add-on-delivery").val()<1&&(t.preventDefault(),e.find(".add-on-delivery").after('<span class="error text-danger">Field value should be greater than zero</span>'))}($(this),e)}))})),$("#service_features").select2({tags:!1}),$("#lead_image_type_id").on("change",(function(){"Default"==$(this).val()?(n.show(),r.hide()):(r.show(),n.hide())})),$("#add-more-service").click((function(){t.append('<div class="row add-ons" id="add-on-row-id-'+a+'">\n\n            <div class="col-xl-4 col-lg-4 col-sm-12 col-xs-12 form-group">\n              <label>Title</label>\n              <input type="text" class="form-control add-on-title" name="service_add_ons['+a+'][title]"  placeholder="Title"  step="any" >\n            </div>\n\n            <div class="col-xl-4 col-lg-4 col-sm-12 col-xs-12 form-group">\n                <label>Per Hour Rate</label>\n                <input type="number" class="form-control add_on_price" name="service_add_ons['+a+'][rate_per_hour]"  \n                    placeholder="per hour rate" id="add_on_price" step="any" oninput="this.value = Math.abs(this.value)">\n            </div>\n          \n            <div class="col-xl-3 col-lg-3 col-sm-12 col-xs-12  form-group">\n              <label>Estimated Delivery Time</label>\n              <input type="number" class="form-control add-on-delivery"  name="service_add_ons['+a+'][estimated_delivery_time]"   placeholder="Enter Number of Hours" oninput="this.value = Math.abs(this.value)">\n              \n          </div>  \n          \n          <div class ="col-xl-1 col-lg-1 col-sm-12 col-xs-12 col-md-1 row-id" style="margin-top:2.4rem" >\n            <button  type="button" class="btn btn-danger" ><i class="fa fa-trash"></i></button>\n          </div>\n\n        </div>\n      '),a+=1})),$(document).on("mouseover ",".nicEdit-main,.nicEdit-panelContain",(function(){$(".nicEdit-main").focus()})),$("#add-more-customservice").click((function(){i.append(addOnServiceRowcustom())})),$(document).on("mouseover ",".nicEdit-main,.nicEdit-panelContain",(function(){$(".nicEdit-main").focus()}));var c=$("div.setup-panel div a"),d=$(".setup-content"),u=$(".nextBtn");d.hide(),c.click((function(e){e.preventDefault();var t=$($(this).attr("href")),i=$(this);i.hasClass("disabled")||(c.removeClass("btn-success").addClass("btn-default"),i.addClass("btn-success"),d.hide(),t.show(),t.find("input:eq(0)").focus())})),u.click((function(){var e=$(this).closest(".setup-content"),t=e.attr("id"),i=$('div.setup-panel div a[href="#'+t+'"]').parent().next().children("a"),a=e.find("input[type='text'],input[type='url']"),r=!0;$(".form-group").removeClass("has-error");for(var n=0;n<a.length;n++)a[n].validity.valid||(r=!1,$(a[n]).closest(".form-group").addClass("has-error"));r&&i.removeAttr("disabled").trigger("click")})),$("div.setup-panel div a.btn-success").trigger("click")})),$(document).on("click","#removeRow",(function(){$(this).closest("#add-on-service-step").remove()})),$(document).on("click","#another_step_id",(function(){e.append('\n          <div id="add-on-service-step"> \n            <div class="col-12">\n\n                    <button id="removeRow" type="button" class="btn btn-danger" style="float: right;  margin-bottom:1rem"><i class="fa fa-trash"></i></button>\n            </div>\n            \n          <div class="col-xl-12 col-lg-12 form-group" >\n              <label for="">Step Name</label>\n                  <div class="col-xl-12 col-lg-12 form-group">\n                      <input type="text" name="steps[]" placeholder="E.g. Initial Requirements" class="form-control step2"  />\n                  </div>\n                  <div>\n                  <label for="discription">Step Description</label>\n                  <textarea type="text" name="description[]" placeholder="This is a short description." class="form-control description2"\n                      ></textarea>\n                 \n              </div>\n              </div>\n          </div>\n            \n      ')})),$("#category").on("change",(function(){var e=$(this).val();$.ajax({type:"GET",url:route,data:{category:e},success:function(e){var t="";e.error?($("#subCategorys").empty(),t+='<option value="1" selected >'.concat(e.error,"</option>"),$(".mySubCatgry").html(t)):($("#subCategorys").empty(),t+='<option value="" selected disabled>Select Sub Category</option>',$.each(e.sub_category,(function(e,i){t+='<option value="'.concat(i.id,'">').concat(i.name,"</option>"),$(".mySubCatgry").html(t)})))}})})),$("#sub-category").on("change",(function(){var e=$(this).val();$.ajax({type:"GET",url:"/user/seller/sub-category-deliverables",data:{sub_category_id:e,module_id:o},success:function(e){var t="";if(e.error)$("#deliverables").empty(),t+='<option value="1" selected >'.concat(e.error,"</option>"),$(".deliverables").html(t);else{t="";var i=e.category_deliverable_ids;$("#sub_category_deliverable_ids").val(JSON.stringify(i)),$("#deliverables").empty(),t+='<option value="" disabled>Select Deliverables</option>',$.each(e.deliverables,(function(e,a){t+='<option value="'.concat(a.id,'" ').concat(i.includes(a.id)?"selected":"",">").concat(a.name,"</option>"),$("#deliverables").html(t)}))}}})})),$(document).on("change",".custom-file-input",(function(){var e=$(this).val().split("\\").pop();$(this).siblings(".custom-file-label").addClass("selected").html(e)})),$(".profilePicUpload").on("change",(function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(t){var i=$(e).parents(".preview-thumb").find(".profilePicPreview");$(i).css("background-image","url("+t.target.result+")"),$(i).addClass("has-image"),$(i).hide(),$(i).fadeIn(650)},t.readAsDataURL(e.files[0])}}(this)})),$(".remove-image").on("click",(function(){$(".profilePicPreview").css("background-image","none"),$(".profilePicPreview").removeClass("has-image")})),$(".addExtra").on("click",(function(){$(".addExtraService").append('\n  <div class="col-lg-12 extraServiceRemove">\n      <div class="row">\n      <div class="col-xl-9 col-lg-12 form-group">\n          <input type="text" name="extra_title[]" class="form-control" placeholder="Enter title" required>\n      </div>\n\n      <div class="col-xl-2 col-lg-12 form-group">\n          <div class="input-group mb-3">\n              <input type="text" class="form-control" name="extra_price[]" placeholder="Enter Price" required="">\n            <span class="input-group-text" id="basic-addon2">{{ __($general->cur_text) }}</span>\n          </div>\n      </div>\n      <div class="col-xl-1">\n          <button type="button" class="btn btn--danger text-white border--rounded btn-sm mt-1 removeBtn">\n              <i class="fa fa-times"></i>\n          </button>\n      </div>\n      </div>\n  </div>')})),$(document).on("click",".removeBtn",(function(){$(this).closest(".extraServiceRemove").remove()})),$(".addExtraImage").on("click",(function(){$(".addImage").append('\n      <div class="custom-file-wrapper removeImage">\n          <div class="custom-file">\n              <input type="file" class="custom-file-input" name="optional_image[]" id="customFile" required>\n              <label class="custom-file-label" for="customFile">Choose file</label>\n          </div>\n          <button class="btn btn--danger text-white border--rounded removeExtraImage"><i class="fa fa-times"></i></button>\n          <input type="text" class="form-control" name="optional_image_text[]"  required>\n      </div>')})),$(document).on("click",".removeExtraImage",(function(){$(this).closest(".removeImage").remove()})),bkLib.onDomLoaded((function(){$(".nicEdit").each((function(e){$(this).attr("id","nicEditor"+e),new nicEditor({fullPanel:!0}).panelInstance("nicEditor"+e,{hasPanel:!0})}))})),$(document).on("click","#removeRow",(function(){confirm("Are you sure you want to remove field ?")&&$(this).closest("#add-on-service-row").remove()})),$(document).on("click",".row-id",(function(){$(this).parent(".add-ons").first().remove(),a-=1})),$(document).on("click","#removecustomRow",(function(){confirm("Are you sure you want to remove field ?")&&$(this).closest("#add-on-customservice-row").remove()}))})();